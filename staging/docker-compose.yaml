services:
  movies-service:
    build:
      context: "../"
      dockerfile: "apps/movies-service/Dockerfile"
    ports:
      - "7100:7100"
    environment:
      - DATABASE_URL=${DATABASE_URL}
      - JWT_SECRET=${JWT_SECRET}
  movies-ui:
    build:
      context: "../"
      dockerfile: "apps/movies-ui/Dockerfile"
    ports:
      - "3000:3000"
    environment:
      - NEXT_PUBLIC_GRAPHQL_URL=${NEXT_PUBLIC_GRAPHQL_URL}
    depends_on:
      - movies-service
